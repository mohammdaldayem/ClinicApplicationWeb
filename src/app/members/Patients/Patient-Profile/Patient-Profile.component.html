

<mat-card class="example-card">
  <mat-card-header>
    <div mat-card-avatar class="example-header-image"></div>
    <mat-card-title>Patient Name: {{user.patientName}}</mat-card-title>
    <mat-card-subtitle>Patient Number: {{user.patientNo}}</mat-card-subtitle>

</mat-card-header>
<mat-card-content >
    <label>Patient Age: <span>{{user.age}}</span></label> <br>
    <label>Patient Mobile Number: <span>{{user.mobileNumber}}</span></label> <br>
    <label>Patient Gender: <span>{{user.gender}}</span></label> <br>
    <label>Patient Doctor Name: <span>{{user.drName}}</span></label> <br>
    <label>Patient Creation Date: <span>{{user.creationDate|  date: 'dd/MM/yyyy'}}</span></label> 

</mat-card-content>
<mat-card-actions>

    <button mat-stroked-button>Edit</button>
    <button  mat-stroked-button color="warn">delete</button>
  </mat-card-actions>
</mat-card>

<mat-card class="cardTapped" >
  <mat-card-content class="tap-card" >
    <h2 class="example-h2">Patient Information</h2>
    <mat-tab-group class="demo-tab-group" [(selectedIndex)]="selectedIndex" (selectedIndexChange)="ChekeisVisiteSelected($event)">
      <mat-tab label="Tab 1" >
          <ng-template mat-tab-label>
          <div class="row align-items-center">
              <mat-icon>list</mat-icon>
              Visits
            </div></ng-template>
            <div class="demo-tab-content">
                <mat-form-field>
                    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                  </mat-form-field>
            <div class="example-container mat-elevation-z8">
              
                <mat-table #table [dataSource]="visitsSource"  matSort>
                 <ng-container matColumnDef="select">
                    <mat-header-cell *matHeaderCellDef></mat-header-cell>
                    <mat-cell mat-cell *matCellDef="let row">
                      <mat-checkbox (click)="$event.stopPropagation()"
                                    (change)="$event ? selection.toggle(row) : null"
                                    [checked]="selection.isSelected(row)">
                      </mat-checkbox>
                    </mat-cell>
                  </ng-container>
                  <!-- Position Column -->
                  <ng-container matColumnDef="visitID">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Visit ID. </mat-header-cell>
                    <mat-cell *matCellDef="let element "> {{element.visitID}} </mat-cell>
                  </ng-container>
                
                  
                  <!-- Name Column -->
                  <ng-container matColumnDef="visitTime">
                    <mat-header-cell *matHeaderCellDef> Visit Time </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.visitTime|  date: 'dd/MM/yyyy'}} </mat-cell>
                  </ng-container>
              
                  <!-- Weight Column -->
                  <ng-container matColumnDef="treatment">
                    <mat-header-cell *matHeaderCellDef> Treatment </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.treatment}} </mat-cell>
                  </ng-container>
              
                  <!-- Symbol Column -->
                  <ng-container matColumnDef="diagnosis">
                    <mat-header-cell *matHeaderCellDef> diagnosis </mat-header-cell>
                    <mat-cell *matCellDef="let element"><textarea>{{element.diagnosis}}</textarea> </mat-cell>
                  </ng-container>
              
                  <ng-container matColumnDef="visitDate">
                      <mat-header-cell *matHeaderCellDef> Visit Date </mat-header-cell>
                      <mat-cell *matCellDef="let element"> {{element.visitDate|  date: 'dd/MM/yyyy'}} </mat-cell>
                    </ng-container>
                   
                  <mat-header-row *matHeaderRowDef="displayedColumnsForVisit"></mat-header-row>
                  <mat-row *matRowDef="let row; columns: displayedColumnsForVisit;"></mat-row>
                </mat-table>
              
                <mat-paginator #paginator
                               [pageSize]="5"
                               [showFirstLastButtons]="true">
                </mat-paginator>
              </div> 
            
            
            </div>
              
      </mat-tab>
      <mat-tab label="Tab 2">
          <ng-template mat-tab-label>
          <div class="row align-items-center">
              <mat-icon>account_circle</mat-icon>
            Patient Digonastic
            </div>
          </ng-template>
        <div class="demo-tab-content">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue.
          Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus.
          In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis nec,
          feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices porttitor,
          orci enim rutrum enim, vel tempor sapien arcu a tellus.
        </div>  
      </mat-tab>
  
     
    <mat-tab label="Tab 4" (click)="Loadprescription()">
      <ng-template mat-tab-label>
          
     <div class="row align-items-center">
        <mat-icon>account_circle</mat-icon>
        Prescription
      </div>
    </ng-template>
      
    <div class="demo-tab-content">
      <mat-tab-group class="demo-tab-group">
          <mat-tab *ngFor="let pers of prescriptions | async">
              <ng-template mat-tab-label>
              <div class="row align-items-center">
                  {{pers.parentName}}
                </div>
              </ng-template>
            <div class="demo-tab-content">
              
            </div>  
          </mat-tab>
        </mat-tab-group>
    </div>  
  </mat-tab>
  <mat-tab label="Tab 5">
    <ng-template mat-tab-label>
        
   <div class="row align-items-center">
      <mat-icon>list</mat-icon>
      Gallery
    </div>
  </ng-template>
    
  <div class="demo-tab-content">
    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue.
    Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus.
    In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis nec,
    feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices porttitor,
    orci enim rutrum enim, vel tempor sapien arcu a tellus.
    <br />
    <br />
    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue.
    Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus.
    In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis nec,
    feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices porttitor,
    orci enim rutrum enim, vel tempor sapien arcu a tellus.
  </div>  
</mat-tab>
<mat-tab label="Tab 6">
  <ng-template mat-tab-label>
      
 <div class="row align-items-center">
    <mat-icon>account_circle</mat-icon>
    Patient Healthprofile
  </div>
</ng-template>
  
<div class="demo-tab-content">
    <mat-form-field>
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
      </mat-form-field>
  <div class="example-container mat-elevation-z8">
    <mat-table #table [dataSource]="dataSource "  matSort>
        {{dataSource}}
      <!-- Position Column -->
      <ng-container matColumnDef="position">
        <mat-header-cell *matHeaderCellDef mat-sort-header> No. </mat-header-cell>
        <mat-cell *matCellDef="let element "> {{setPositionValue(element,dataSource.filteredData.indexOf(element) + 1)}} </mat-cell>
      </ng-container>
  
      <!-- Name Column -->
      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.date}} </mat-cell>
      </ng-container>
  
      <!-- Weight Column -->
      <ng-container matColumnDef="doctor">
        <mat-header-cell *matHeaderCellDef> Doctor </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.doctor}} </mat-cell>
      </ng-container>
  
      <!-- Symbol Column -->
      <ng-container matColumnDef="diagnosis">
        <mat-header-cell *matHeaderCellDef> Diagnosis </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.diagnosis}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="treatment">
          <mat-header-cell *matHeaderCellDef> Treatment </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.treatment}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="prescription">
            <mat-header-cell *matHeaderCellDef> Prescription </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.prescription}} </mat-cell>
          </ng-container>
          <ng-container matColumnDef="financial">
              <mat-header-cell *matHeaderCellDef> Financial </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.financial}} </mat-cell>
            </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  
    <mat-paginator #paginator
                   [pageSize]="5"
                   [showFirstLastButtons]="true">
    </mat-paginator>
  </div>
  
  
  <!-- Copyright 2018 Google Inc. All Rights Reserved.
      Use of this source code is governed by an MIT-style license that
      can be found in the LICENSE file at http://angular.io/license -->
</div>  
</mat-tab>
<mat-tab label="Tab 7">
  <ng-template mat-tab-label>
      
 <div class="row align-items-center">
    <mat-icon>list</mat-icon>
    Finasical information
  </div>
</ng-template>
<div class="demo-tab-content">
    <mat-form-field>
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
      </mat-form-field>
<div class="example-container mat-elevation-z8">
  
    <mat-table #table [dataSource]="financialSource"  matSort>
     {{financialSource}}
      <!-- Position Column -->
      <ng-container matColumnDef="financialID">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Financial ID. </mat-header-cell>
        <mat-cell *matCellDef="let element "> {{element.financialID}} </mat-cell>
      </ng-container>
    
      
      <!-- Name Column -->
      <ng-container matColumnDef="visitid">
        <mat-header-cell *matHeaderCellDef> Visit ID </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.visitid}} </mat-cell>
      </ng-container>
      
      <!-- Weight Column -->
      <ng-container matColumnDef="employeeID">
        <mat-header-cell *matHeaderCellDef> Employee ID </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.employeeID}} </mat-cell>
      </ng-container>
  
      <!-- Symbol Column -->
      <ng-container matColumnDef="note">
        <mat-header-cell *matHeaderCellDef> Note </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.note}} </mat-cell>
      </ng-container>
  
      <ng-container matColumnDef="doctorName">
          <mat-header-cell *matHeaderCellDef> Doctor Name </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.doctorName}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="financialDate">
            <mat-header-cell *matHeaderCellDef> Financial Date </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.financialDate|  date: 'dd/MM/yyyy'}} </mat-cell>
          </ng-container>
          <ng-container matColumnDef="treatmentCost">
              <mat-header-cell *matHeaderCellDef> Treatment Cost </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.treatmentCost}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="patientCredit">
                <mat-header-cell *matHeaderCellDef>Patient Credit</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.patientCredit}} </mat-cell>
              </ng-container>
              <ng-container matColumnDef="patientDebit">
                  <mat-header-cell *matHeaderCellDef>Patient Debit</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.patientDebit}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="isDoctor">
                    <mat-header-cell *matHeaderCellDef>Is Doctor</mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.isDoctor}} </mat-cell>
                  </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumnsForFinancial"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumnsForFinancial;"></mat-row>
    </mat-table>
  
    <mat-paginator #paginator
                   [pageSize]="5"
                   [showFirstLastButtons]="true">
    </mat-paginator>
  </div>
  <div class="belowTable">
  <button mat-stroked-button color="primary" (click)="openAddDialog()">Add</button>
    <button  mat-stroked-button >Update</button></div>
</div>
</mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>